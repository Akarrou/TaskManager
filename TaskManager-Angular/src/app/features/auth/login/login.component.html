<div class="c-login-layout">
  <div class="c-login-container">
    <div class="c-login-card">
      <div class="c-login-card__content">
        <div class="c-login-header">
          <app-logo [size]="80"></app-logo>
          <h2 class="c-login-title">Bienvenue</h2>
          <p class="c-login-subtitle">Connectez-vous pour accéder à votre espace</p>
        </div>

        <form (ngSubmit)="handleLogin()" #loginForm="ngForm" class="c-login-form">
          <div class="c-form-group">
            <label class="c-label" for="email">Adresse Email</label>
            <div class="c-input-wrapper">
              <span class="material-icons-outlined c-input-icon">email</span>
              <input
                class="c-input"
                id="email"
                name="email"
                type="email"
                [ngModel]="email()"
                (ngModelChange)="email.set($event)"
                placeholder="votre@email.com"
                required
                [disabled]="loading()"
                autocomplete="email"
              />
            </div>
          </div>

          <div class="c-form-group">
            <label class="c-label" for="password">Mot de passe</label>
            <div class="c-input-wrapper">
              <span class="material-icons-outlined c-input-icon">lock</span>
              <input
                class="c-input"
                id="password"
                name="password"
                type="password"
                [ngModel]="password()"
                (ngModelChange)="password.set($event)"
                placeholder="••••••••"
                required
                [disabled]="loading()"
                autocomplete="current-password"
              />
            </div>
          </div>

          <div class="c-error-message" *ngIf="error()">
            <span class="material-icons-outlined">error_outline</span>
            <span>{{ error() }}</span>
          </div>

          <div class="c-form-actions">
            <button
              class="c-btn c-btn--primary"
              type="submit"
              [disabled]="loading() || !loginForm.valid"
            >
              @if (loading()) {
                <span class="c-spinner"></span>
                <span>Connexion...</span>
              } @else {
                <span>Se connecter</span>
              }
            </button>

            <div class="c-divider">
              <span>ou</span>
            </div>

            <button
              class="c-btn c-btn--secondary"
              type="button"
              (click)="handleSignup()"
              [disabled]="loading()"
            >
              Créer un compte
            </button>
          </div>
        </form>
      </div>
    </div>
    
    <div class="c-login-footer">
      <p>© 2024 AgroFlow Task Manager. Tous droits réservés.</p>
    </div>
  </div>
</div>
