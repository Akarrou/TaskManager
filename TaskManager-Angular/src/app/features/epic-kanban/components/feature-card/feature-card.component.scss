.feature-card {
  @apply transition-all duration-200 ease-in-out;
  @apply border border-gray-200 bg-white;
  @apply hover:shadow-md;
  
  // Focus state for accessibility
  &:focus-visible {
    @apply outline-none ring-2 ring-blue-500 ring-offset-2;
  }
  
  // Dragging state
  &.dragging {
    @apply opacity-60 transform rotate-1 z-50;
    @apply shadow-2xl;
  }

  // Overdue state  
  &.overdue {
    @apply border-red-300 bg-red-50;
    
    .mat-mdc-card-header {
      @apply bg-red-100/50;
    }
  }

  // T011 - Active tasks indicator
  &.has-active-tasks {
    @apply border-l-4 border-l-orange-400;
    
    &:hover {
      @apply border-l-orange-500;
    }
  }

  // Card header styling
  .mat-mdc-card-header {
    @apply border-b border-gray-100;
    padding: 12px !important;
    
    .mat-mdc-card-header-text {
      margin: 0 !important;
    }
  }

  // Card content
  .mat-mdc-card-content {
    padding: 12px !important;
    
    // Last content section (expanded tasks)
    &:last-child {
      @apply border-t border-gray-100 bg-gray-50/30;
    }
  }

  // Title truncation
  .line-clamp-2 {
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }

  // T011 - Enhanced progress bar styling
  .mat-mdc-progress-bar {
    @apply rounded-full overflow-hidden;
    height: 6px !important;
    background-color: rgb(243 244 246) !important; // bg-gray-100
    
    .mdc-linear-progress__bar-inner {
      @apply rounded-full;
    }

    // T011 - Progress states
    &.progress-completed {
      .mdc-linear-progress__bar-inner {
        background-color: rgb(34 197 94) !important; // green-500
      }
    }

    &.progress-active {
      .mdc-linear-progress__bar-inner {
        background-color: rgb(249 115 22) !important; // orange-500
        animation: progress-pulse 2s ease-in-out infinite;
      }
    }
  }

  // T011 - Progress pulse animation
  @keyframes progress-pulse {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.7; }
  }

  // Chip styling
  .mat-mdc-chip {
    @apply rounded-md;
    height: 24px !important;
    font-size: 10px !important;
    
    .mdc-evolution-chip__text-label {
      font-size: 10px !important;
      font-weight: 500;
    }
  }

  // Menu button
  .mat-mdc-icon-button {
    @apply transition-colors duration-200;
    width: 32px !important;
    height: 32px !important;
    
    .mat-icon {
      font-size: 18px !important;
      width: 18px !important;
      height: 18px !important;
    }
  }

  // Icon sizes
  .mat-icon {
    &.text-sm {
      font-size: 16px !important;
      width: 16px !important;
      height: 16px !important;
    }

    // T011 - Flex shrink icons
    &.flex-shrink-0 {
      flex-shrink: 0;
    }
  }

  // Task items in expanded view
  .space-y-2 > * + * {
    margin-top: 8px;
  }

  // T011 - Enhanced task item styling
  .group {
    &:focus-visible {
      @apply outline-none ring-2 ring-blue-500 ring-offset-2 rounded-md;
    }
  }

  // T011 - Screen reader only content
  .sr-only {
    position: absolute;
    width: 1px;
    height: 1px;
    padding: 0;
    margin: -1px;
    overflow: hidden;
    clip: rect(0, 0, 0, 0);
    white-space: nowrap;
    border: 0;
  }

  // Responsive adjustments
  @media (max-width: 640px) {
    .mat-mdc-card-header {
      padding: 8px !important;
    }
    
    .mat-mdc-card-content {
      padding: 8px !important;
    }
    
    .text-xs {
      font-size: 10px;
    }

    // T011 - Mobile optimizations
    .max-w-20 {
      max-width: 3rem;
    }

    .max-w-16 {
      max-width: 2.5rem;
    }
  }
}

// Animation for card interactions
@keyframes card-pulse {
  0%, 100% { transform: scale(1); }
  50% { transform: scale(1.02); }
}

.feature-card:active {
  animation: card-pulse 0.2s ease-in-out;
}

// T011 - Enhanced menu styling
.feature-card-menu {
  .mat-mdc-menu-content {
    .mat-mdc-menu-item {
      @apply transition-colors duration-200;
      
      &:hover {
        @apply bg-gray-50;
      }
      
      &.text-red-600 {
        &:hover {
          @apply bg-red-50;
        }
      }
      
      .mat-icon {
        @apply mr-3;
        font-size: 18px !important;
        width: 18px !important;
        height: 18px !important;
      }
    }
  }
}

// Hover effects for interactive elements
.hover\:bg-gray-100:hover {
  background-color: rgb(243 244 246) !important;
}

.hover\:text-gray-600:hover {
  color: rgb(75 85 99) !important;
}

.hover\:border-gray-200:hover {
  border-color: rgb(229 231 235) !important;
}

// Tooltip overrides
.mat-mdc-tooltip {
  @apply text-xs;
}

// T011 - Type badge variations with improved contrast
.type-epic {
  @apply text-red-700 bg-red-100 border-red-300;
}

.type-feature {
  @apply text-blue-700 bg-blue-100 border-blue-300;
}

.type-task {
  @apply text-green-700 bg-green-100 border-green-300;
}

// T011 - Enhanced truncation utilities
.truncate {
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
} 