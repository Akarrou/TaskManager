<div class="slash-menu-container" #menuContainer>
  <div class="slash-menu-header">
    @if (filterTextSignal()) {
      Résultats pour "{{ filterTextSignal() }}"
    } @else {
      Commandes disponibles
    }
  </div>

  @for (section of sections(); track section.title) {
    <div class="slash-menu-section">
      <div class="section-title">{{ section.title }}</div>
      <div class="section-items">
        @for (command of section.commands; track command.id) {
          <button
            (click)="selectItem(getGlobalIndex(command))"
            class="slash-menu-item"
            [class.selected]="getGlobalIndex(command) === selectedIndex"
            [attr.aria-label]="command.label"
          >
            <div class="item-icon">
              <span class="material-icons-outlined">{{ command.icon }}</span>
            </div>
            <span class="item-label">{{ command.label }}</span>
          </button>
        }
      </div>
    </div>
  }

  @if (sections().length === 0) {
    <div class="empty-state">
      Aucune commande trouvée
    </div>
  }
</div>
