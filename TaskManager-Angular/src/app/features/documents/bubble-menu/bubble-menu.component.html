<div class="bubble-menu">
  <!-- Text Style -->
  <button
    (click)="setParagraph()"
    [class.active]="isParagraph()"
    class="menu-button"
    title="Paragraphe">
    <span class="material-icons-outlined">text_fields</span>
  </button>

  <button
    (click)="setHeading(1)"
    [class.active]="isHeading(1)"
    class="menu-button"
    title="Titre 1">
    <span class="material-icons-outlined">looks_one</span>
  </button>

  <button
    (click)="setHeading(2)"
    [class.active]="isHeading(2)"
    class="menu-button"
    title="Titre 2">
    <span class="material-icons-outlined">looks_two</span>
  </button>

  <button
    (click)="setHeading(3)"
    [class.active]="isHeading(3)"
    class="menu-button"
    title="Titre 3">
    <span class="material-icons-outlined">looks_3</span>
  </button>

  <div class="separator"></div>

  <!-- Text Formatting -->
  <button
    (click)="toggleBold()"
    [class.active]="isBold()"
    class="menu-button"
    title="Gras (Ctrl+B)">
    <span class="material-icons-outlined">format_bold</span>
  </button>

  <button
    (click)="toggleItalic()"
    [class.active]="isItalic()"
    class="menu-button"
    title="Italique (Ctrl+I)">
    <span class="material-icons-outlined">format_italic</span>
  </button>

  <button
    (click)="toggleStrike()"
    [class.active]="isStrike()"
    class="menu-button"
    title="BarrÃ©">
    <span class="material-icons-outlined">strikethrough_s</span>
  </button>

  <button
    (click)="toggleCode()"
    [class.active]="isCode()"
    class="menu-button"
    title="Code">
    <span class="material-icons-outlined">code</span>
  </button>

  <div class="separator"></div>

  <!-- Font Family -->
  <select (change)="setFontFamily($event)" class="menu-select">
    <option value="">Police</option>
    <option *ngFor="let font of fontFamilies" [value]="font.value">
      {{ font.label }}
    </option>
  </select>

  <!-- Font Size -->
  <select (change)="setFontSize($event)" class="menu-select">
    <option value="">Taille</option>
    <option *ngFor="let size of fontSizes" [value]="size.value">
      {{ size.label }}
    </option>
  </select>

  <div class="separator"></div>

  <!-- Text Color -->
  <div class="color-picker-container">
    <button
      (click)="toggleTextColorPicker()"
      class="menu-button color-button"
      title="Couleur du texte"
      [style.color]="getCurrentTextColor()">
      <span class="material-icons-outlined">format_color_text</span>
    </button>

    <div *ngIf="showTextColorPicker()" class="color-palette">
      <div class="color-grid">
        <button
          *ngFor="let color of textColors"
          (click)="setTextColor(color)"
          class="color-swatch"
          [style.background-color]="color"
          [title]="color">
        </button>
      </div>
    </div>
  </div>

  <!-- Background Color -->
  <div class="color-picker-container">
    <button
      (click)="toggleBgColorPicker()"
      class="menu-button color-button"
      title="Couleur de fond"
      [style.background-color]="getCurrentBgColor()">
      <span class="material-icons-outlined">format_color_fill</span>
    </button>

    <div *ngIf="showBgColorPicker()" class="color-palette">
      <div class="color-grid">
        <button
          *ngFor="let color of bgColors"
          (click)="setBgColor(color)"
          class="color-swatch"
          [class.transparent]="color === 'transparent'"
          [style.background-color]="color"
          [title]="color">
        </button>
      </div>
    </div>
  </div>

  <div class="separator"></div>

  <!-- Text Alignment -->
  <button
    *ngFor="let align of textAlignments"
    (click)="setTextAlign(align.value)"
    class="menu-button"
    [class.active]="isTextAlignActive(align.value)"
    [title]="align.title">
    <span class="material-icons-outlined">{{ align.icon }}</span>
  </button>
</div>
