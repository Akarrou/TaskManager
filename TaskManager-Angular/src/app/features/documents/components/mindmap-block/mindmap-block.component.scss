.mindmap-container {
  @apply relative border border-gray-200 rounded-lg bg-white overflow-hidden;
  min-height: 500px;

  &:focus {
    @apply outline-none ring-2 ring-blue-500;
  }
}

.mindmap-toolbar {
  @apply flex items-center justify-between px-3 py-2 bg-gray-50 border-b border-gray-200;

  .toolbar-left {
    @apply flex items-center gap-2;

    .mindmap-title {
      @apply font-semibold text-gray-700 text-sm;
    }
  }

  .toolbar-center {
    @apply flex items-center gap-1;
  }

  .toolbar-right {
    @apply flex items-center gap-1;

    .zoom-level {
      @apply text-xs text-gray-600 min-w-10 text-center;
    }

    .delete-btn {
      @apply ml-2;
      color: #ef4444;
    }
  }

  .toolbar-divider {
    @apply h-6 mx-1;
  }

  button.active {
    @apply bg-blue-100;
    color: #3b82f6;
  }
}

.mindmap-content {
  @apply relative;
  height: 450px;
  overflow: hidden;
}

.cy-container {
  @apply w-full h-full;
  background: linear-gradient(to bottom, #f8fafc 0%, #f1f5f9 100%);
}

// Sticky Notes Layer - positioned relative to mindmap-container
.sticky-notes-layer {
  position: absolute;
  top: 48px; // After toolbar
  left: 0;
  right: 0;
  bottom: 0;
  pointer-events: none;
  overflow: hidden;

  // Enable pointer events only on sticky notes
  app-sticky-note {
    pointer-events: auto;
    position: absolute;
    display: block;
    cursor: grab;

    &:active {
      cursor: grabbing;
    }
  }
}

.navigator-container {
  @apply absolute bottom-4 right-4;
  width: 200px;
  height: 150px;
  background: white;
  border: 1px solid #e2e8f0;
  border-radius: 8px;
  box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
  overflow: hidden;
  z-index: 10;

  // Cytoscape navigator styles
  :host ::ng-deep {
    .cytoscape-navigator {
      width: 100%;
      height: 100%;
      background: #f8fafc;
    }

    .cytoscape-navigatorView {
      background: rgba(59, 130, 246, 0.2);
      border: 2px solid #3b82f6;
    }

    .cytoscape-navigatorOverlay {
      cursor: move;
    }
  }
}

.help-text {
  @apply absolute bottom-2 left-1/2 transform -translate-x-1/2;
  @apply text-xs text-gray-400 bg-white/80 px-3 py-1 rounded-full;
  @apply flex items-center gap-2 flex-wrap justify-center;
  max-width: 90%;

  .separator {
    @apply text-gray-300;
  }
}

.editing-overlay {
  @apply fixed inset-0 bg-black/30 flex items-center justify-center;
  z-index: 9999;
  cursor: default;
}

.editing-input-container {
  @apply bg-white rounded-lg shadow-xl p-4 flex items-center gap-3;

  .editing-input {
    @apply px-4 py-2 border border-gray-300 rounded-md;
    @apply focus:ring-2 focus:ring-blue-500 focus:border-blue-500;
    @apply text-base;
    min-width: 280px;
  }

  .editing-actions {
    @apply flex items-center gap-1;
  }
}

.node-actions-bar {
  @apply absolute bottom-12 left-1/2 transform -translate-x-1/2;
  @apply bg-white rounded-lg shadow-lg px-4 py-2;
  z-index: 5;
}

// Theme dots for menu
.theme-dot {
  @apply inline-block w-3 h-3 rounded-full mr-2;

  &.theme-default {
    background-color: #3b82f6;
  }

  &.theme-ocean {
    background-color: #06b6d4;
  }

  &.theme-forest {
    background-color: #22c55e;
  }

  &.theme-sunset {
    background-color: #f97316;
  }

  &.theme-monochrome {
    background-color: #6b7280;
  }
}

// Context menu styles
:host ::ng-deep {
  .cy-context-menus-cxt-menu {
    @apply bg-white rounded-lg shadow-lg border border-gray-200 py-1;
    min-width: 180px;

    .cy-context-menus-cxt-menuitem {
      @apply px-3 py-2 text-sm text-gray-700 cursor-pointer;
      @apply hover:bg-gray-100;
      display: flex;
      align-items: center;
      gap: 8px;

      &:first-child {
        border-radius: 8px 8px 0 0;
      }

      &:last-child {
        border-radius: 0 0 8px 8px;
      }
    }
  }

  // Expand/Collapse cue styles
  .cy-expand-collapse-collapsed-cue {
    background-color: #3b82f6;
    border-radius: 50%;
  }

  .cy-expand-collapse-expanded-cue {
    background-color: #6b7280;
    border-radius: 50%;
  }
}

// Style menu styles
::ng-deep .style-menu {
  .mat-mdc-menu-content {
    padding: 0;
  }
}

.style-menu-content {
  @apply p-3;
  min-width: 240px;
}

.style-section {
  @apply mb-3;

  &:last-child {
    @apply mb-0;
  }
}

.style-label {
  @apply block text-xs font-medium text-gray-600 mb-2;
}
