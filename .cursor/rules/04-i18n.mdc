---
description: 
globs: 
alwaysApply: true
---
---

description: R√®gles d‚Äôinternationalisation (i18n) pour Angular avec ngx-translate
globs: ["**/i18n/**/*", "**/*-fr.json", "**/*-en.json", "Front/agroflow-workspace/**/assets/i18n/**/*"]
alwaysApply: false
------------------

# üåê Internationalisation avec ngx-translate

## üìÅ Structure des fichiers de traduction

* **Emplacement** : `src/assets/i18n/`
* **Nommage** :

  * Pour chaque composant, cr√©er deux fichiers :

    * `[nom-du-composant]-fr.json`
    * `[nom-du-composant]-en.json`
  * Exemple pour `UserProfileComponent` :

    * `user-profile-fr.json`
    * `user-profile-en.json`

## üîë Conventions de cl√©s de traduction

* Utiliser des cl√©s en MAJUSCULES avec une structure hi√©rarchique :

  * Format : `COMPONENT.SECTION.CLE_SPECIFIQUE`
  * Exemple :

    ```json
    {
      "USER_PROFILE": {
        "TITLE": "Profil Utilisateur",
        "EDIT_BUTTON": "Modifier"
      }
    }
    ```

## üìå Bonnes pratiques

* **Ne pas modifier directement** les fichiers globaux `fr.json` et `en.json` situ√©s √† la racine du r√©pertoire `i18n`.
* **Scripts automatiques** : Ex√©cuter `pnpm run merge-translations` avant chaque build pour consolider les traductions.
* **Merge obligatoire apr√®s modification** : **√Ä chaque fois qu'une traduction est ajout√©e ou modifi√©e** dans un fichier JSON de traduction (`*-fr.json` ou `*-en.json`), il est **OBLIGATOIRE** de lancer imm√©diatement la commande de merge pour synchroniser les fichiers globaux.
* **Lazy loading** : Charger les fichiers de traduction sp√©cifiques aux modules uniquement lorsque ceux-ci sont charg√©s.
* **Gestion des langues** : Utiliser un service d√©di√© pour g√©rer le changement de langue √† l'ex√©cution.

## üîß Commandes utiles

* **Merge des traductions pour l'application admin** :
  ```bash
  cd ${workspaceFolder}/Front/agroflow-workspace && node scripts/merge-translations.js admin
  ```
  Cette commande consolide tous les fichiers de traduction individuels des composants en fichiers globaux `fr.json` et `en.json` pour l'application admin.

## R√¥le & Contexte
Ce fichier d√©finit les r√®gles d‚Äôinternationalisation (i18n) pour Angular avec ngx-translate dans AgroFlow : structure, conventions, bonnes pratiques et commandes utiles.
