# üìê Guidelines Frontend pour TaskManager

## üéØ R√¥le & Contexte

Ce document est la **source de v√©rit√© unique** pour toutes les conventions, patterns, et bonnes pratiques du d√©veloppement frontend sur TaskManager. En tant qu'IA, vous devez imp√©rativement suivre ces r√®gles pour toute cr√©ation ou modification de code dans le r√©pertoire `TaskManager-Angular/`.

> **Documentation associ√©e :** Pour une vue d'ensemble de l'architecture frontend, consultez le document [02_Frontend.md](mdc:TaskManager-Angular/docs/02_Frontend.md).

---

## üõ†Ô∏è Section 1 : Environnement & Standards de Base

### 1.1. Environnement et D√©pendances

- **Gestionnaire de paquets** : Utiliser `pnpm` [[memory:2254613]].
- **Version Node** : Utiliser NVM avec la version `22.16.0` [[memory:413473]].
- **Stack** : Angular, NgRx, Supabase, Angular Material, Tailwind CSS.

### 1.2. Structure du Projet

La structure de r√©f√©rence est d√©finie dans [10_project-architecture.mdc](mdc:10_project-architecture.mdc). Les r√©pertoires cl√©s sont :

- **`features/`** : Modules fonctionnels (ex: `tasks`, `projects`).
- **`core/`** : Services singletons (ex: `AuthService`, `SupabaseService`).
- **`shared/`** : Composants, mod√®les et utilitaires r√©utilisables.

### 1.3. Conventions de Nommage et de Codage

- **Composants** :
  - Nom de fichier en `kebab-case.component.ts` (ex: `task-form.component.ts`).
  - **Toujours `standalone: true`**.
  - **Structure de fichiers s√©par√©s obligatoire** : `.ts`, `.html`, `.scss`.
  - **Interdiction** d'utiliser `template:` ou `styles:` en ligne. Toujours utiliser `templateUrl` et `styleUrls`.
- **Services** : Suffixe `.service.ts` (ex: `task.service.ts`).
- **Mod√®les/Interfaces** : Suffixe `.model.ts`.
- **TypeScript** :
  - `strict mode` est **obligatoire**.
  - **Interdiction stricte** du type `any`.
  - Utiliser la fonction `inject()` pour l'injection de d√©pendances (pas le constructeur).
  - Ordonner les `import` : Angular > RxJS > Libs externes > Libs du projet > Relatifs.

---

## üé® Section 2 : UI, Style & Composants

### 2.1. Style et Formatage

- **Outils** : Respecter les r√®gles des fichiers `ESLint` et `Prettier`.
- **CSS/SCSS** :
  - Utiliser **Tailwind CSS** en priorit√© pour tout le style.
  - Les styles globaux (variables, mixins) sont dans `src/app/styles`.
  - Ne **jamais** manipuler le DOM directement avec `ElementRef`.
- **Framework UI** :
  - Utiliser **Angular Material** pour les composants de base (inputs, dialogs, menus, etc.).
  - Toujours utiliser l'apparence `outline` pour les `mat-form-field`.

### 2.2. Composants Partag√©s (`shared/components`)

Avant d'√©crire une nouvelle UI, v√©rifier si un composant r√©utilisable existe d√©j√† dans `src/app/shared/components/`.

#### ‚úÖ Checklist de Conformit√© pour un Nouveau Composant

- [ ] **1. Justification :** Le composant que je cr√©e n'est pas d√©j√† disponible ou adaptable depuis `shared/components`.
- [ ] **2. Nommage :** Le nom des fichiers est en `kebab-case`.
- [ ] **3. Standalone :** Le composant a bien `standalone: true`.
- [ ] **4. Fichiers S√©par√©s :** Le template est dans un `.html` et les styles dans un `.scss`.
- [ ] **5. Immutabilit√© :** Les `@Input()` sont trait√©s comme immuables.

---

## üìù Section 3 : Patterns de R√©f√©rence

### 3.1. Pattern pour les Formulaires (CRUD)

- **Mod√®le de R√©f√©rence :** `task-form` (`/src/app/features/tasks/task-form/`).
- **Principes Cl√©s :**
  - Utiliser `ReactiveFormsModule` avec des `FormControl` fortement typ√©s.
  - Utiliser **Angular Material** pour les champs (`mat-form-field`).
  - La validation est g√©r√©e par `Validators`.
  - Un √©tat `isLoading` doit d√©sactiver le formulaire pendant la soumission.

### 3.2. Pattern pour la communication avec Supabase

- **Service d√©di√©** : Toute interaction avec une table Supabase doit passer par un service d√©di√© (ex: `TaskService`, `ProjectService`).
- **Ne jamais appeler `supabase.from(...)` directement depuis un composant.**
- **Typage** : Utiliser les types g√©n√©r√©s par Supabase pour les donn√©es.
- **Gestion des erreurs** : Les services doivent intercepter les erreurs de Supabase et les retourner de mani√®re pr√©visible (soit en relan√ßant l'erreur, soit en retournant un `null` ou un objet d'erreur).

### 3.3. Pattern pour la gestion d'√©tat avec NgRx

- **Mod√®le de R√©f√©rence :** `projects` store (`/src/app/features/projects/store/`).
- **Principes Cl√©s :**
  - Chaque `feature` a son propre slice (actions, reducer, selectors, effects).
  - Les **effets (`effects`)** sont responsables de la communication avec les services (ex: appeler `ProjectService` pour charger les projets).
  - Les **composants** ne doivent interagir qu'avec le **store** (`dispatch` des actions, `select` des donn√©es).
  - Les **s√©lecteurs** permettent de r√©cup√©rer des donn√©es du store et de les transformer.

---

# üîó R√©f√©rences

- [10_project-architecture.mdc](mdc:10_project-architecture.mdc)
- [04-i18n.mdc](mdc:04-i18n.mdc)
- [00_shared-prompts.mdc](mdc:00_shared-prompts.mdc)
